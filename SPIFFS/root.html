<!DOCTYPE html>
<html lang="en">
   <head>
      <script src="/js/insert.js"></script>
      <title>e.BrewESP</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="stylesheet" href="/css/bootstrap-extra.css">
<script type="text/javascript">
// Plain JS to show header when no JQuery available
window.onload = function() {
	if (!window.jQuery){  
		document.getElementById("loading").style.display = "none";
		document.getElementById("header").style.display = "block";
	}

	// If browser is not Android, convert clickable submenu into hover submenu
	var ua = navigator.userAgent.toLowerCase();
	var isAndroid = ua.indexOf("android") > -1;
	if(!isAndroid){
		var sheet = document.createElement("style")		
		sheet.innerHTML = ".dropdown-submenu:hover>.dropdown-menu { display: block; }";
		document.body.appendChild(sheet);
	}
}

// Jquery functions
$( document ).ready(function() {
	setInterval(RefreshTemp, 10000);
	setInterval(RefreshData, 10000);
	
	var NoResponse;
	var brewstatus;
	var substatus;
	var RecipeValid = 0;
	var ConfigValid = 0;
	var ChartLoaded = 0;
	var ChartEnabled = 0;

	
	// Make submenu clickable
	$(".dropdown-submenu>a").unbind("click").click(function(e){
		$(this).next("ul").toggle();
		e.stopPropagation();
		e.preventDefault();
	});
	// Allways start with 'RefreshData' to collect data with JQuery
	// When finished, show full page
	RefreshData();
	$("#loading").hide();
	$("#header").show();

	RefreshTemp();
	
	var isMashClosed;
	var isBoilClosed;
	
	function RefreshTemp(){
	if (NoResponse != "1")
	{	
		$.ajax
		({
			type: "GET",
			url: "/api",
			data: {action:"GET",value:"temperature"},
			cache: false,
			success: function(html)
			{
				NoResponse = 0;
				var values = html.split("____");
				$("#mash_temperature").html(values[0]);
				$("#hardware_temperature").html(values[1]);

			},
			error: function(XMLHttpRequest, textStatus, errorThrown)
			{
				NoResponse = 1;
				$("#error1").html('<div class="bs-example" id="errorblock1" style="display: none;"><div class="alert alert-danger fade in" id="alert"><a href="#" class="close" data-dismiss="alert">&times;</a><strong>Error!</strong> Connection with controller is lost. Please check controller and refresh manually.</div></div>');
				$("#errorblock1").show();
			}
		});
	}
	}
	
	
	
	// RefreshData function, the URL and Succes are different for every page
	function RefreshData(){
	if (NoResponse != "1")
	{	
		$.ajax
		({
			type: "GET",
			url: "/config.json",
			data: "",
			cache: false,
			success: function(html)
			{
				NoResponse = 0;
				json = JSON.parse(html);
				brewstatus = json["recipe"]["status"];
				substatus = json["recipe"]["substatus"];
				ChartEnabled = json["settings"]["EnableChart"];
				
				if (isNaN(parseInt(json["settings"]["TempSensor"]["TotalSensors"])) || json["settings"]["TempSensor"]["TotalSensors"] == 0)
				{
					ConfigValid++;
				}
				if (isNaN(parseInt(json["settings"]["TempSensor"]["MashSensor"])))
				{
					ConfigValid++;
				}
				if (isNaN(parseInt(json["settings"]["RelayGPIO"])))
				{
					ConfigValid++;
				}
				
				if (ConfigValid > 0)
				{
					$("#brew_pause").addClass("button-disabled");
					$("#brew_stop").addClass("button-disabled");
					$("#brew_play").addClass("button-disabled");
					brewstatus = "stopped";
					$("#error1").html('<div class="bs-example" id="errorblock1" style="display: none;"><div class="alert alert-danger fade in" id="alert"><strong>Error!</strong> Your config has invalid settings to operate, please check all the config values.</div></div>');
					$("#errorblock1").show();
					if (brewstatus != "stopped")
					{
						$.ajax
						({
							type: "GET",
							url: "/api",
							data: {action:"ChangeBrewTo",value:"stopped"},
							cache: false
						});
					}
				}
				
				if (ConfigValid == 0)
				{
					var RecipeValidPrev = RecipeValid;
					RecipeValid = 0;
					if (typeof json["recipe"]["mash"] != 'undefined')
					{
						if (typeof json["recipe"]["mash"]["mash1"] != 'undefined')
						{
							if (!json["recipe"]["mash"]["mash1"].hasOwnProperty('time') || !json["recipe"]["mash"]["mash1"].hasOwnProperty('temp') )
							{
								RecipeValid++;
							}
							else
							{
								if (json["recipe"]["mash"]["mash1"]["time"] == '' || json["recipe"]["mash"]["mash1"]["temp"] == '')
								{
									RecipeValid++;
								}
							}
						}
						else
						{
							RecipeValid++;
						}
					}
					else
					{
						RecipeValid++;
					}
									
					
					if (typeof json["recipe"]["hop"] != 'undefined')
					{
						if (typeof json["recipe"]["hop"]["hop1"] != 'undefined')
						{
							if (!json["recipe"]["hop"]["hop1"].hasOwnProperty('time'))
							{
								RecipeValid++;
							}
							else if (json["recipe"]["hop"]["hop1"]["time"] == '')
							{
								RecipeValid++;
							}
						}
						else
						{
							RecipeValid++;
						}
					}
					else
					{
						RecipeValid++;
					}
					
					if (typeof json["recipe"]["boil"] != 'undefined')
					{
						if (!json["recipe"]["boil"].hasOwnProperty('time'))
						{
							RecipeValid++;
						}
						else if (json["recipe"]["boil"]["time"] == '')
						{
							RecipeValid++;
						}
					}
					else
					{
						RecipeValid++;
					}
				}
				
				if (RecipeValid > 0)
				{
					$("#brew_pause").addClass("button-disabled");
					$("#brew_stop").addClass("button-disabled");
					$("#brew_play").addClass("button-disabled");
					if (brewstatus != "stopped")
					{
						$.ajax
						({
							type: "GET",
							url: "/api",
							data: {action:"ChangeBrewTo",value:"stopped"},
							cache: false
						});
					}
					brewstatus = "stopped";
					$("#error1").html('<div class="bs-example" id="errorblock1" style="display: none;"><div class="alert alert-danger fade in" id="alert"><strong>Error!</strong> Invalid or no recipe defined. Please create a recipe first.</div></div>');
					$("#errorblock1").show();
				}
				
				if (RecipeValid == 0 && RecipeValidPrev > 0)
				{
					$("#brew_play").removeClass("button-disabled");
					$("#brew_pause").removeClass("button-disabled");
					$("#brew_stop").removeClass("button-disabled");
					$("#errorblock1").hide();
					$("#error1").html('<div class="bs-example" id="errorblock1" style="display: none;"><div class="alert alert-success fade in" id="alert"><a href="#" class="close" data-dismiss="alert">&times;</a><strong>Succes!</strong> Valid recipe found.</div></div>');
					$("#errorblock1").show();
					setTimeout(function() {$("#errorblock1").hide();},5000);
				}

					if (substatus != "")
					{
						$("#sub_status").html(substatus);
						$("#substatus_panel").show();
					}
					else
					{
						$("#substatus_panel").hide();					
					}				
				
				
				if (brewstatus == "running" || brewstatus == "paused")
				{
					$("#brew_status").html(brewstatus);

					if (brewstatus == "running" && RecipeValid == 0)
					{
						$("#brew_play").addClass("button-disabled");
						$("#brew_stop").removeClass("button-disabled");
						$("#brew_pause").removeClass("button-disabled");
					}
					if (brewstatus == "paused" && RecipeValid == 0)
					{
						$("#brew_pause").addClass("button-disabled");
						$("#brew_play").removeClass("button-disabled");
						$("#brew_stop").removeClass("button-disabled");
					}
					var iMash = 1;
					var data = json["recipe"]["mash"];
					var curr;
					$("#new_mash").html("");
					$.each(data, function(i, obj)
					{
						var CurrentMash = "mash" + iMash;
						var CurrentMashDiv = "#mash" + iMash;
						var CurrentMashBar = "#mash" + iMash + "_bar";
						var CurrentMashTime = "#mash" + iMash + "_time";
						var MashProgress = json["recipe"]["mash"][CurrentMash]["status"];
						var MashTime = json["recipe"]["mash"][CurrentMash]["time"];
						var MashTemp = json["recipe"]["mash"][CurrentMash]["temp"];
						var MashDone = json["recipe"]["mash"][CurrentMash]["elapsed"];

						if (MashTime != undefined && MashTime != "")
						{
							// Recipe is running, current mash step is not empty or undefined
							$(CurrentMashDiv).show();
							if (MashProgress == "")
							{
								FlashBar = "░░░░░░░░░░░░░░░░";
							}
							if (MashProgress == "finished")
							{
								FlashBar = "████████████████";
							}
							else if (MashProgress == "running" || MashProgress == "paused")
							{
								var FlashBar = "";
								VolleBlokjes = Math.round((MashDone / (MashTime / 16 ) ));
								i = 1;
								while (i <= VolleBlokjes)
								{
									FlashBar = FlashBar + "█";
									i++;
								}
								
								while (i <= 16) {
									FlashBar = FlashBar + "░";
									i++;
								}
							}
							
							if (MashProgress == undefined || MashDone == undefined)
							{
								FlashBar = "░░░░░░░░░░░░░░░░";
							}

							$("#new_mash").append('<div class="panel-body" id="mmash1"><span class="text-left" id="mash1_time">Mash step ' + iMash + " (" + MashTime + "m/" + MashTemp + "°C)" + '</span><span class="pull-right" id="mash1_bar">' + FlashBar + '</span></div>');
						}
						iMash++;
					});
					
					var iHop = 1;
					var data = json["recipe"]["hop"];
					var curr;
					$("#new_hop").html("");
					$.each(data, function(i, obj)
					{
						var Currenthop = "hop" + iHop;
						var CurrenthopDiv = "#hop" + iHop;
						var CurrenthopBar = "#hop" + iHop + "_bar";
						var CurrenthopTime = "#hop" + iHop + "_time";
						var hopProgress = json["recipe"]["hop"][Currenthop]["status"];
						var hopTime = json["recipe"]["hop"][Currenthop]["time"];
						var hopDone = json["recipe"]["hop"][Currenthop]["elapsed"];

						if (hopTime != undefined && hopTime != "")
						{
							// Recipe is running, current hop step is not empty or undefined
							$(CurrenthopDiv).show();
							if (hopProgress == "")
							{
								FlashBar = "░░░░░░░░░░░░░░░░";
							}
							if (hopProgress == "finished")
							{
								FlashBar = "████████████████";
							}
							else if (hopProgress == "running" || hopProgress == "paused")
							{
								var FlashBar = "";
								VolleBlokjes = Math.round((hopDone / (hopTime / 16 ) ));
								i = 1;
								while (i <= VolleBlokjes)
								{
									FlashBar = FlashBar + "█";
									i++;
								}
								
								while (i <= 16) {
									FlashBar = FlashBar + "░";
									i++;
								}
							}
							
							if (hopProgress == undefined || hopDone == undefined)
							{
								FlashBar = "░░░░░░░░░░░░░░░░";
							}

							$("#new_hop").append('<div class="panel-body" id="mhop1"><span class="text-left" id="hop1_time">hop step ' + iHop + " (" + hopTime + "m)" + '</span><span class="pull-right" id="hop1_bar">' + FlashBar + '</span></div>');
						}
						iHop++;
					});
					
					var BoilTime = json["recipe"]["boil"]["time"];
					var BoilProgress = json["recipe"]["boil"]["status"];
					var BoilDone = json["recipe"]["boil"]["elapsed"];

					if (BoilProgress == "")
					{
						FlashBar = "░░░░░░░░░░░░░░░░";
					}
					if (BoilProgress == "finished")
					{
						FlashBar = "████████████████";
					}
					else if (BoilProgress == "running" || BoilProgress == "paused")
					{
						// if Boil is running or paused, we can hide the mash
						//alert("boil running, mash dicht?");
						//$("#mash_panel_closed").show();
						//$("#mash_panel_open").hide();
						//$("#mash_panel_open").hide();
						if (isMashClosed == undefined)
						{
							$("#mash_panel_closed").show();
							$("#mash_panel_open").hide();
							isMashClosed = 1;
						}
						
						var FlashBar = "";
						VolleBlokjes = Math.round((BoilDone / (BoilTime / 16 ) ));
						i = 1;
						while (i <= VolleBlokjes)
						{
							FlashBar = FlashBar + "█";
							i++;
						}
								
						while (i <= 16) {
							FlashBar = FlashBar + "░";
							i++;
						}
					}
					//$("#boil_time").html("Boil (" + BoilTime + "m)");
					//$("#boil_bar").html(FlashBar);
					
					$("#new_hop").append('<div class="panel-body" id="boil"><span class="text-left" id="boil_time">Boil (' + BoilTime + "m)" + '</span><span class="pull-right" id="hop1_bar">' + FlashBar + '</span></div>');
					
					if (isBoilClosed == undefined)
					{
						$("#boil").show();
						$("#boil_panel_closed").hide();
						$("#boil_panel_open").show();
						$("#brew_panel").show();
					}
					if (isMashClosed == undefined)
					{
						$("#mash_panel_closed").hide();
						$("#mash_panel_open").show();					
						$("#brew_panel").show();
					}
					
					if ( $("#mash_panel_closed").is(":hidden") && $("#mash_panel_open").is(":hidden"))
					{
						// all mash is hidden, but brew is active. Make visible!
						$("#mash_panel_closed").hide();
						$("#mash_panel_open").show();
					}
					
					if ( $("#boil_panel_closed").is(":hidden") && $("#boil_panel_open").is(":hidden"))
					{
						// all boil is hidden, but brew is active. Make visible!
						$("#boil_panel_closed").hide();
						$("#boil_panel_open").show();
					}

					if (ChartLoaded == 0 && ChartEnabled == "1")
					{
						$("#chart").show();
						$("#chart-container").insertFusionCharts({
							type: "line",
							width: "350",
							height: "350",
							dataFormat: "jsonurl",
							dataSource: "/chart.json"
						});
						ChartLoaded = 1;
					}
					else if (ChartEnabled == "1")
					{
						$("#chart-container").show();
						$("#chart-container").updateFusionCharts({dataSource: '/chart.json', dataFormat: 'jsonURL'});
					}
					
					if (ChartEnabled == "0")
					{
						$("#chart-container").hide();
					}
				}
				else
				{
					if (brewstatus == "finished")
					{
						$("#brew_status").html("finished");
						$("#brew_panel").show();
						$("#boil_panel_closed").hide();
						$("#boil_panel_open").show();
						$("#mash_panel_closed").hide();
						$("#mash_panel_open").show();
						//$("#chart").hide();
						//ChartLoaded = 0;
					}
					else
					{
						$("#brew_status").html("stopped");
						$("#brew_panel").show();
						$("#boil_panel_closed").hide();
						$("#boil_panel_open").hide();
						$("#mash_panel_closed").hide();
						$("#mash_panel_open").hide();
						$("#chart").hide();
						ChartLoaded = 0;
					}
					if (RecipeValid == 0 && ConfigValid == 0)
					{
						$("#brew_stop").addClass("button-disabled");
						$("#brew_play").removeClass("button-disabled");
						$("#brew_pause").removeClass("button-disabled");
					}
				}
				$("#brew_panel_loading").hide();
				if (json["settings"]["TempSensor"]["TotalSensors"] == "2")
				{
					$("#hardwaretemp_panel").show();
				}
				
			},
			error: function(XMLHttpRequest, textStatus, errorThrown)
			{
				NoResponse = 1;
				$("#error1").html('<div class="bs-example" id="errorblock1" style="display: none;"><div class="alert alert-danger fade in" id="alert"><a href="#" class="close" data-dismiss="alert">&times;</a><strong>Error!</strong> Connection with controller is lost. Please check controller and refresh manually.</div></div>');
				$("#errorblock1").show();
			}
		});
		}
		}

		$("#brew_play").click(function(e)
		{
			if ((brewstatus == "stopped" || brewstatus == "paused") && RecipeValid == 0)
			{
				$.ajax
				({
					type: "GET",
					url: "/api",
					data: {action:"ChangeBrewTo",value:"running"},
					cache: false,
					success: function(html)
					{
						$("#brew_play").addClass("button-disabled");
						$("#brew_stop").removeClass("button-disabled");
						$("#brew_pause").removeClass("button-disabled");
						RefreshData();
						$("#error1").html('<div class="bs-example" id="errorblock1" style="display: none;"><div class="alert alert-success fade in" id="alert"><a href="#" class="close" data-dismiss="alert">&times;</a><strong>Succes!</strong> Changed Brewsession to: running.</div></div>');
						$("#errorblock1").show();
						$("#errorblock1").alert();
						setTimeout(function() {$("#errorblock1").hide();},5000);
						$('html, body').animate({scrollTop: $("#errorblock1").offset().top}, 1000);
					}
				
				});
			}
		});

		$("#brew_pause").click(function(e)
		{
			if (brewstatus == "running" && RecipeValid == 0)
			{
				$.ajax
				({
					type: "GET",
					url: "/api",
					data: {action:"ChangeBrewTo",value:"paused"},
					cache: false,
					success: function(html)
					{
						$("#brew_pause").addClass("button-disabled");
						$("#brew_play").removeClass("button-disabled");
						$("#brew_stop").removeClass("button-disabled");
						RefreshData();
						$("#error1").html('<div class="bs-example" id="errorblock1" style="display: none;"><div class="alert alert-success fade in" id="alert"><a href="#" class="close" data-dismiss="alert">&times;</a><strong>Succes!</strong> Changed Brewsession to: paused.</div></div>');
						$("#errorblock1").show();
						setTimeout(function() {$("#errorblock1").hide();},5000);
						$('html, body').animate({scrollTop: $("#errorblock1").offset().top}, 1000);
					}
				
				});
			}
		});

		$("#brew_stop").click(function(e)
		{
			if ((brewstatus == "running" || brewstatus == "paused") && RecipeValid == 0)
			{
				$.ajax
				({
					type: "GET",
					url: "/api",
					data: {action:"ChangeBrewTo",value:"stopped"},
					cache: false,
					success: function(html)
					{
						$("#brew_stop").addClass("button-disabled");
						$("#brew_play").removeClass("button-disabled");
						$("#brew_pause").removeClass("button-disabled");
						RefreshData();
						$("#error1").html('<div class="bs-example" id="errorblock1" style="display: none;"><div class="alert alert-success fade in" id="alert"><a href="#" class="close" data-dismiss="alert">&times;</a><strong>Succes!</strong> Changed Brewsession to: stopped.</div></div>');
						$("#errorblock1").show();
						setTimeout(function() {$("#errorblock1").hide();},5000);
						$('html, body').animate({scrollTop: $("#errorblock1").offset().top}, 1000);
					}
				});
			}
		});
		
		// Function to detect viewer want to OPEN all the mash flashbars
		$("#open_mash").click(function(e)
		{
			$("#mash_panel_closed").hide();
			$("#mash_panel_open").show();
			isMashClosed = 0;
		});

		// Function to detect viewer want to CLOSE all the mash flashbars
		$("#close_mash").click(function(e)
		{
			$("#mash_panel_closed").show();
			$("#mash_panel_open").hide();
			isMashClosed = 1;
		});
		
		// Function to detect viewer want to OPEN all the boil flashbars
		$("#open_boil").click(function(e)
		{
			$("#boil_panel_closed").hide();
			$("#boil_panel_open").show();
			isBoilClosed = 0;
		});

		// Function to detect viewer want to CLOSE all the boil flashbars
		$("#close_boil").click(function(e)
		{
			$("#boil_panel_closed").show();
			$("#boil_panel_open").hide();
			isBoilClosed = 1;
		});

	// When a link to the modal-dialog is pressed, configure text and buttons. This is for finish brew
	$("#DoFinishBrew").click(function(event){
		event.preventDefault();
		$(".modal-title1").html("Confirm finish");
		$("#modal-body-text").html("Are you sure you want to finish?<br>This will erase all settings, including wifi. This option is irreversible.");
		$("#DoFunction").html("Finish");
		$("#DoFunction").attr("title", "DoFinishBrew");
	});		
		
	// Function send Reset command (clear EEPROM) to ESP. Triggered after pushing the red 'Reset' button from the modal popup
	function DoFinishBrew(){
			$.ajax
			({
				type: "GET",
				url: "/api",
				data: {action:"ChangeBrewTo",value:"finished"},
				cache: false,
				success: function(html)
				{
					RefreshData();
					$("#error1").html('<div class="bs-example" id="errorblock1" style="display: none;"><div class="alert alert-success fade in" id="alert"><a href="#" class="close" data-dismiss="alert">&times;</a><strong>Succes!</strong> Changed brew to finished</div></div>');
					$("#errorblock1").show();
					setTimeout(function() {$("#errorblock1").hide();},5000);
				}
			});
	};
			
	// Function to figure out what exactly is confirmed in the modal-dialog, redirect to corresponding function
	$("#DoFunction").click(function(){
		$("#modal-dialog").modal("hide");
		var linkTitle = $("#DoFunction").attr("title");
		if (linkTitle == "DoFinishBrew") { DoFinishBrew(); }
	});

	// When the 'Refresh' button is pressed, refresh all data from ESP
	$("#refresh").click(function(){RefreshData();});
	
	if (brewstatus == "running" || brewstatus == "paused" && ChartEnabled == "1")
	{
		$("#chart-container").insertFusionCharts({
			type: "line",
			width: "400",
			height: "350",
			dataFormat: "jsonurl",
			dataSource: "/chart.json"
		});
	}
	
});
    </script>    
   </head>
   <body>
	<script type="text/javascript" src="/js/menubar.js"></script>
	<div id="modal-dialog" class="modal fade">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title1">title</h4>
				</div>
				<div class="modal-body">
					<p id="modal-body-text">question</p>
					<p class="debug-url"></p>
				</div>
				<div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <a class="btn btn-danger btn-ok" id="DoFunction">yes</a>
                </div>
			</div>
		</div>
	</div>	  
	<p id="error1"></p><p id="error2"></p><p id="error3"></p><p id="error4"></p>
      <div class="container">
      <div id="loading" class="row"><div class="col-md-4"><div class="page-header"><span class="fa fa-refresh fa-spin"></span></span> Loading . . .</div></div></div>
      <div id="header" class="row" style="display: none;">
	  
      <div class="col-md-4">
      <div class="page-header">
         <h1>Brew status</h1>
      </div>
		<div class="page-header" id="brew_panel_loading"><span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span></span> Loading . . .</div>
         <div class="panel panel-default" id="brew_panel" style="display: none;">
            <div class="panel-body">
				<span class="text-left">Brewsession is: </span>
				<span class="pull-right" id="brew_status"></span>
			</div>
			<div class="panel-body">
			<table width=100%>
				<tr>
					<td width=33% style="text-align:center;">
						<span class="glyphicon glyphicon-play" id="brew_play"></span>
					</td>
					<td width=33% style="text-align:center;">
						<span class="glyphicon glyphicon-pause" id="brew_pause"></span>
					</td>
					<td width=33% style="text-align:center;">
						<span class="glyphicon glyphicon-stop" id="brew_stop"></span>
					</td>
				</tr>
			</table>
			</div>
			<div  id="mash_panel_closed" style="display: none";>
				<div class="panel-body">
					<span class="text-left">Mash progress</span>
					<span class="glyphicon glyphicon-menu-down pull-right" id="open_mash">
				</div>
			</div>
			<div id="mash_panel_open" style="display: none";>
				<div class="panel-body">
					<span class="text-left">Mash progress</span>
					<span class="glyphicon glyphicon-menu-up pull-right"  id="close_mash">
				</div>
				<div id="new_mash"></div>
			</div>
			
			<div  id="boil_panel_closed" style="display: none";>
				<div class="panel-body">
					<span class="text-left">Boil & Hop progress</span>
					<span class="glyphicon glyphicon-menu-down pull-right" id="open_boil">
				</div>
			</div>
			<div id="boil_panel_open" style="display: none";>
				<div class="panel-body">
					<span class="text-left">Boil & Hop progress</span>
					<span class="glyphicon glyphicon-menu-up pull-right"  id="close_boil">
				</div>
				<div id="new_hop"></div>				
			</div>
         </div>
	  </div>	  
	  
	  
      <div class="col-md-4">
         <div class="page-header">
            <h1>Sensor data</h1>
         </div>		 
         <div class="panel panel-default" id="mashtemp_panel">
            <div class="panel-body"><span class="glyphicon glyphicon-tint"></span> Mash Temperature<span class="pull-right" id="mash_temperature"></span></div>
         </div>
         <div class="panel panel-default" id="hardwaretemp_panel" style="display: none;">
			<div class="panel-body"><span class="glyphicon glyphicon-exclamation-sign"></span> Hardware Temperature<span class="pull-right" id="hardware_temperature"></span></div>
         </div>
         <div class="panel panel-default" id="substatus_panel" style="display: none;">
			<div class="panel-body"><span class="glyphicon glyphicon glyphicon-info-sign"></span><span class="text-left" id="sub_status"></span></div>
         </div>
         </div>


	  
      <div class="col-md-4" id="chart" style="display: none";>
         <div class="page-header">
            <h1>&nbsp;</h1>
         </div>
			<div id="chart-container" style="height: 400px; width: 100%;"></div> 
      </div>	  
      </div>	  
	  
	  </div>
	  </div>
   </body>
</html>
